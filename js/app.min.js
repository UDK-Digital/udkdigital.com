!function(){"use strict";gsap.registerPlugin(ScrollTrigger,Flip);const e=document.querySelector("body"),t=imagesLoaded(e);function o(){const e=document.querySelector(".loading-wrap");if(!e)return;const o=e.querySelectorAll(".loading__item"),r=document.querySelectorAll(".loading__fade"),a=document.querySelector(".loader__count .count__text");let s=0;a&&function e(){if(s<100){let t=Math.floor(10*Math.random())+1;s=Math.min(s+t,100),a.textContent=s;let o=Math.floor(120*Math.random())+25;setTimeout(e,o)}}(),t.on("done",(()=>{gsap.to(".loader__count",{duration:.8,ease:"power2.in",y:"100%",delay:1.8}),gsap.to(".loader__wrapper",{duration:.8,ease:"power4.in",y:"-100%",delay:2.2}),setTimeout((()=>{const e=document.getElementById("loader");e&&e.classList.add("loaded")}),3200),gsap.set(o,{opacity:0}),gsap.to(o,{duration:1.1,ease:"power4",startAt:{y:120},y:0,opacity:1,delay:.8,stagger:.08},">-=1.1"),gsap.set(r,{opacity:0}),gsap.to(r,{duration:.8,ease:"none",opacity:1,delay:3.2})}))}function r(e,t,o,r,a,s,n="none"){gsap.utils.toArray(e).forEach((e=>{gsap.timeline({scrollTrigger:{trigger:t,start:o,end:r,scrub:!0,ease:n}}).fromTo(e,a,s)}))}$((function(){$(".animated-type").length&&new Typed("#typed",{stringsElement:"#typed-strings",showCursor:!0,cursorChar:"_",loop:!0,typeSpeed:70,backSpeed:30,backDelay:2500}),$(".mxd-nav__wrap").each((function(){const e=$(this),t=e.find(".mxd-nav__hamburger"),o=e.find(".hamburger__line"),r=e.find(".mxd-menu__contain"),a=e.find(".hamburger__base"),s=e.find(".mxd-menu__wrapper"),n=e.find(".mxd-menu__base"),i=e.find(".main-menu__item"),l=e.find(".menu-promo__video"),c=e.find(".menu-fade-in"),d=gsap.timeline({paused:!0});function p(e){const o=Flip.getState(a);e?a.appendTo(r):a.appendTo(t),Flip.from(o,{ease:"power4.inOut",duration:.8})}function g(e){d.isActive()||(e?(d.play(),t.addClass("nav-open")):(d.reverse(),t.removeClass("nav-open")))}d.set(s,{display:"flex"}).from(n,{opacity:0,duration:.6,ease:"none",onStart:()=>p(!0)}).to(o.eq(0),{y:5,duration:.16},"<").to(o.eq(1),{y:-5,duration:.16},"<").to(o.eq(0),{rotate:45,duration:.16},.2).to(o.eq(1),{rotate:-45,duration:.16},.2).add("fade-in-up").from(i,{opacity:0,yPercent:50,duration:.2,stagger:{amount:.2},onReverseComplete:()=>p(!1)},"fade-in-up").from(l,{opacity:0,yPercent:20,duration:.2},"fade-in-up").from(c,{opacity:0,duration:.3}),t.on("click",(function(e){e.preventDefault(),g(!$(this).hasClass("nav-open"))})),n.on("click",(()=>g(!1))),$(document).on("keydown",(e=>{"Escape"===e.key&&g(!1)})),window.addEventListener("beforeunload",(()=>g(!1)))})),$(".mxd-nav__hamburger").on("click",(function(){$(this).hasClass("nav-open")?$(".mxd-header").addClass("menu-is-visible"):setTimeout((()=>$(".mxd-header").removeClass("menu-is-visible")),1100)})),$(".mxd-accordion__title").on("click",(function(e){e.preventDefault();const t=$(this);t.hasClass("accordion-active")||($(".mxd-accordion__content").slideUp(400),$(".mxd-accordion__title").removeClass("accordion-active"),$(".mxd-accordion__arrow").removeClass("accordion-rotate")),t.toggleClass("accordion-active"),t.next().slideToggle(400),$(".mxd-accordion__arrow",this).toggleClass("accordion-rotate")})),$(".notify-form").ajaxChimp({url:"https://club.us10.list-manage.com/subscribe/post?u=e8d650c0df90e716c22ae4778&amp;id=54a7906900&amp;f_id=00b64ae4f0",callback:function(e){const t=$(".notify"),o=t.find(".form"),r=t.find(".subscription-ok"),a=t.find(".subscription-error");"success"===e.result?(o.addClass("is-hidden"),r.addClass("is-visible"),setTimeout((()=>{r.removeClass("is-visible"),o.delay(300).removeClass("is-hidden"),$(".notify-form").trigger("reset")}),5e3)):"error"===e.result&&(o.addClass("is-hidden"),a.addClass("is-visible"),setTimeout((()=>{a.removeClass("is-visible"),o.delay(300).removeClass("is-hidden"),$(".notify-form").trigger("reset")}),5e3))}}),$("#contact-form").submit((function(e){e.preventDefault();const t=$(this);return $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done((function(){const e=$(".contact");e.find(".form").addClass("is-hidden"),e.find(".form__reply").addClass("is-visible"),setTimeout((function(){e.find(".form__reply").removeClass("is-visible"),e.find(".form").delay(300).removeClass("is-hidden"),t.trigger("reset")}),5e3)})),!1})),function(){Modernizr.svg||$("img[src*='svg']").attr("src",(function(){return $(this).attr("src").replace(".svg",".png")}));const e=$(".mxd-projects-masonry__gallery");e.length&&e.imagesLoaded().progress((function(){e.masonry("layout"),ScrollTrigger.refresh()})),new Ukiyo(".parallax-img",{scale:1.5,speed:1.5}),new Ukiyo(".parallax-img-small",{scale:1.2,speed:1.5}),new Ukiyo(".parallax-video",{scale:1.5,speed:1.5});const t=document.querySelector("#color-switcher");if(t){const e=()=>{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return localStorage.getItem("template.theme")&&(e=localStorage.getItem("template.theme")),e},o=e=>{const o=document.querySelector(":root");t.innerHTML="light"===e?'<i class="ph-bold ph-moon-stars"></i>':'<i class="ph-bold ph-sun-horizon"></i>',o.setAttribute("color-scheme",e)};t.addEventListener("click",(()=>{let t=e();t="dark"===t?"light":"dark",localStorage.setItem("template.theme",t),o(t)})),o(e())}const o=document.querySelectorAll("img.inject-me");o.length&&SVGInjector(o,{evalScripts:"once",pngFallback:"assets/png"})}()})),window.addEventListener("load",(()=>{o(),function(){const e=new Lenis;e.on("scroll",ScrollTrigger.update),gsap.ticker.add((t=>{e.raf(1e3*t)})),gsap.ticker.lagSmoothing(0),$("#showreel-trigger").magnificPopup({type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,callbacks:{beforeOpen:function(){$("body").addClass("overflow-hidden"),e.stop()},close:function(){$("body").removeClass("overflow-hidden"),e.start()}}})}(),function(){ScrollTrigger.create({trigger:"body",start:"top top-=-10",end:"bottom top",toggleClass:{targets:".mxd-header",className:"is-hidden"}}),r(".hero-02-static-anim-el",".hero-02-static__tl-trigger","top 14%","top 0.2%",{transform:"translate3d(0, 0, 0)",scaleY:1,opacity:1},{transform:"translate3d(0, -5rem, 0)",scaleY:1.3,opacity:0},"sine"),r(".hero-02-fade-out-scroll",".mxd-pinned-fullscreen__tl-trigger","top 80%","top 10%",{opacity:1},{opacity:0},"sine"),r(".hero-07-slide-out-scroll",".mxd-hero-07__tl-trigger","top 86%","top 10%",{transform:"translate3d(0, 0, 0)",scaleY:1},{transform:"translate3d(0, -26rem, 0)",scaleY:.8},"power4.out"),r(".hero-07-fade-out-scroll",".mxd-hero-07__tl-trigger","top 70%","top 40%",{opacity:1,transform:"translate3d(0, 0, 0)"},{opacity:0,transform:"translate3d(0, -10rem, 0)"},"elastic.out(1,0.3)"),r(".hero-08-slide-out-scroll",".mxd-hero-08__tl-trigger","top 80%","top 40%",{transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, -5rem, 0)",opacity:0},"power4.inOut"),r(".hero-08-scale-out-scroll",".mxd-hero-08__tl-trigger","top 40%","top 10%",{transform:"translate3d(0, 0, 0)",scaleY:1,opacity:1},{transform:"translate3d(0, -5rem, 0)",scaleY:1.2,opacity:0},"power4.inOut"),$(".mxd-pinned").each((function(){const e=$(this).find(".mxd-pinned__text-item"),t=$(this).find(".mxd-pinned__img-item");function o(o){e.removeClass("is-active"),t.removeClass("is-active"),e.eq(o).addClass("is-active"),t.eq(o).addClass("is-active")}o(0),e.each((function(e){ScrollTrigger.create({trigger:this,start:"top center",end:"bottom center",onToggle:t=>{t.isActive&&o(e)}})}))}));const e=document.querySelectorAll(".stack-item");if(e.length>0){const t=document.querySelector(".stack-offset"),o=gsap.timeline();let r;const a=()=>{o.clear(),r=e[0].offsetHeight,e.forEach(((e,t)=>{t>0&&(gsap.set(e,{y:t*r}),o.to(e,{y:0,duration:.5*t,ease:"none"},0))}))};a(),ScrollTrigger.create({trigger:".stack-wrapper",start:"top top",pin:!0,end:()=>`+=${e.length*r+(t?t.offsetHeight:0)}`,scrub:!0,animation:o,invalidateOnRefresh:!0}),ScrollTrigger.addEventListener("refreshInit",a)}function t(e,t){document.querySelector(e)&&(gsap.set(e,{y:50,opacity:0}),ScrollTrigger.batch(e,{interval:.1,batchMax:t,onEnter:e=>gsap.to(e,{opacity:1,y:0,ease:"sine",stagger:.15,overwrite:!0}),onLeave:e=>gsap.set(e,{opacity:1,y:0,overwrite:!0}),onEnterBack:e=>gsap.to(e,{opacity:1,y:0,stagger:.15,overwrite:!0}),onLeaveBack:e=>gsap.set(e,{opacity:0,y:50,overwrite:!0})}),ScrollTrigger.addEventListener("refreshInit",(()=>gsap.set(e,{y:0,opacity:1}))))}document.querySelectorAll(".reveal-type").forEach((e=>{const t=new SplitType(e,{types:"words, chars"});gsap.from(t.chars,{scrollTrigger:{trigger:e,start:"top 80%",end:"top 20%",scrub:!0},opacity:.2,stagger:.1})})),document.querySelectorAll(".reveal-in-up").forEach((e=>{const t=new SplitType(e);gsap.from(t.chars,{scrollTrigger:{trigger:e,start:"top 90%",end:"top 20%",scrub:!0},transformOrigin:"top left",y:10,stagger:.2,delay:.2,duration:2})})),gsap.utils.toArray(".animate-rotation").forEach((e=>{gsap.fromTo(e,{rotate:0},{rotate:$(e).data("value"),ease:"none",scrollTrigger:{trigger:e,scrub:!0}})})),gsap.utils.toArray(".anim-uni-in-up").forEach((e=>{gsap.from(e,{opacity:0,y:50,duration:.8,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 90%",toggleActions:"play none none reverse"}})})),t(".animate-card-2",2),t(".animate-card-3",3),t(".animate-card-4",4),t(".animate-card-5",5);const o=getComputedStyle(document.documentElement).getPropertyValue("--_radius-l");document.querySelectorAll(".anim-zoom-in-container").forEach((e=>{gsap.fromTo(e,{borderRadius:"200px",transform:"scale3d(0.94, 1, 1)"},{borderRadius:o,transform:"scale3d(1, 1, 1)",scrollTrigger:{trigger:e,start:"top 82%",end:"top 14%",scrub:!0,ease:"power4.inOut"}})})),document.querySelectorAll(".anim-zoom-out-container").forEach((e=>{gsap.fromTo(e,{borderRadius:"200px",transform:"scale3d(1.14, 1, 1)"},{borderRadius:o,transform:"scale3d(1, 1, 1)",scrollTrigger:{trigger:e,start:"top 82%",end:"top 14%",scrub:!0,ease:"power4.inOut"}})})),gsap.to("[data-speed]",{y:(e,t)=>(1-parseFloat(t.getAttribute("data-speed")))*ScrollTrigger.maxScroll(window),ease:"none",scrollTrigger:{start:0,end:"max",invalidateOnRefresh:!0,scrub:0}});const a=document.querySelector(".btn-to-top");a&&(a.addEventListener("click",(e=>{e.preventDefault(),lenis.scrollTo(0,{duration:1.3,ease:"power4.inOut"})})),gsap.set(a,{opacity:0,visibility:"hidden"}),gsap.to(a,{opacity:1,autoAlpha:1,scrollTrigger:{trigger:"body",start:"top -20%",end:"top -20%",toggleActions:"play none reverse none"}}))}()}))}();